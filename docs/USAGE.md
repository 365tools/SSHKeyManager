# ğŸ’¼ ä½¿ç”¨æŒ‡å—

å®Œæ•´çš„ SSH Key Manager ä½¿ç”¨æ–‡æ¡£ã€‚

---

## ğŸ“‹ ç›®å½•

- [å‘½ä»¤å‚è€ƒ](#-å‘½ä»¤å‚è€ƒ)
- [å®æˆ˜æ¡ˆä¾‹](#-å®æˆ˜æ¡ˆä¾‹)
- [ä¸¤ç§ä½¿ç”¨æ–¹å¼](#-ä¸¤ç§ä½¿ç”¨æ–¹å¼)
- [GUI äº¤äº’æ¨¡å¼](#-gui-äº¤äº’æ¨¡å¼)
- [å®‰å…¨æ€§](#-å®‰å…¨æ€§)

---

## ğŸ› ï¸ å‘½ä»¤å‚è€ƒ

### åŸºç¡€å‘½ä»¤

#### `list` - æŸ¥çœ‹æ‰€æœ‰å¯†é’¥

```bash
sshm list           # æŸ¥çœ‹å¯†é’¥åˆ—è¡¨
sshm list -a        # æ˜¾ç¤ºå…¬é’¥å†…å®¹ï¼ˆæ–¹ä¾¿å¤åˆ¶ï¼‰
```

**è¾“å‡ºç¤ºä¾‹**ï¼š

```
âœ¨ [å½“å‰ä½¿ç”¨] GITHUB-PERSONAL
----------------------------------------------------------------------
  ç±»å‹: rsa
  ç§é’¥: id_rsa.github-personal
  å…¬é’¥: âœ… id_rsa.github-personal.pub
  åˆ«å: git@github-personal:user/repo.git
  å¤§å°: 2622 bytes
  ä¿®æ”¹: 2026-01-06 22:35:25
  çŠ¶æ€: â­ æ­£åœ¨ä½¿ç”¨ï¼ˆå½“å‰é»˜è®¤ rsa å¯†é’¥ï¼‰
```

---

#### `add` - åˆ›å»ºæ–°å¯†é’¥

```bash
sshm add <æ ‡ç­¾> <é‚®ç®±> [é€‰é¡¹]

é€‰é¡¹:
  -H, --host <åŸŸå>     è‡ªåŠ¨é…ç½® SSH configï¼ˆæ¨èï¼‰
  -t, --type <ç±»å‹>     å¯†é’¥ç±»å‹ï¼šed25519ï¼ˆé»˜è®¤ï¼‰| rsa | ecdsa | dsa
  -b, --bits <ä½æ•°>     RSA å¯†é’¥ä½æ•°ï¼ˆé»˜è®¤ 4096ï¼‰

ç¤ºä¾‹:
  sshm add github me@example.com -H github.com
  sshm add gitlab me@example.com -H gitlab.com -t rsa
  sshm add personal me@gmail.com -H github.com -t rsa -b 2048
```

---

#### `switch` - åˆ‡æ¢é»˜è®¤å¯†é’¥

```bash
sshm switch <æ ‡ç­¾> [-t <ç±»å‹>]

# è‡ªåŠ¨æ£€æµ‹å¯†é’¥ç±»å‹ï¼ˆæ¨èï¼‰
sshm switch github-personal

# æ‰‹åŠ¨æŒ‡å®šç±»å‹
sshm switch github-personal -t rsa
```

---

#### `use` - ä¸º Git ä»“åº“é…ç½®å¯†é’¥ â­ æ¨è

```bash
sshm use <æ ‡ç­¾> [-p <è·¯å¾„>] [-y]

é€‰é¡¹:
  -p, --path PATH       Git ä»“åº“è·¯å¾„ï¼ˆé»˜è®¤å½“å‰ç›®å½•ï¼‰
  -y, --yes             è·³è¿‡ç¡®è®¤ç›´æ¥æ‰§è¡Œ

ç¤ºä¾‹:
  # ä¸ºå½“å‰ä»“åº“é…ç½®ä½¿ç”¨ github-personal å¯†é’¥
  cd ~/my-project
  sshm use github-personal
  
  # ä¸ºæŒ‡å®šä»“åº“é…ç½®
  sshm use github-company -p ~/work-project
  
  # è‡ªåŠ¨ç¡®è®¤æ¨¡å¼
  sshm use github-personal -y
```

**åŠŸèƒ½è¯´æ˜**ï¼š

1. ğŸ“‚ **è‡ªåŠ¨è¯†åˆ«** Git ä»“åº“ä¿¡æ¯
2. ğŸ” **æ™ºèƒ½è§£æ** å½“å‰ remote URL
3. ğŸ”„ **è‡ªåŠ¨æ›¿æ¢** ä¸ºå¯¹åº”çš„ SSH config åˆ«å
4. âœ… **æµ‹è¯•è¿æ¥** éªŒè¯é…ç½®æ˜¯å¦æˆåŠŸ
5. ğŸ“Š **ç»“æœå±•ç¤º** æ¸…æ™°æ˜¾ç¤ºé…ç½®ç»“æœ

---

#### `info` - æŸ¥çœ‹ä»“åº“é…ç½®ä¿¡æ¯

```bash
sshm info [-p <è·¯å¾„>]

é€‰é¡¹:
  -p, --path PATH       Git ä»“åº“è·¯å¾„ï¼ˆé»˜è®¤å½“å‰ç›®å½•ï¼‰

ç¤ºä¾‹:
  # æŸ¥çœ‹å½“å‰ä»“åº“é…ç½®
  cd ~/my-project
  sshm info
  
  # æŸ¥çœ‹æŒ‡å®šä»“åº“é…ç½®
  sshm info -p ~/work-project
```

---

#### `test` - æµ‹è¯• SSH è¿æ¥

```bash
sshm test [æ ‡ç­¾] [é€‰é¡¹]

é€‰é¡¹:
  --all                 æµ‹è¯•æ‰€æœ‰å¯†é’¥è¿æ¥

ç¤ºä¾‹:
  sshm test                    # æµ‹è¯•å½“å‰ä»“åº“è¿æ¥
  sshm test github-personal    # æµ‹è¯•æŒ‡å®šå¯†é’¥
  sshm test --all              # æµ‹è¯•æ‰€æœ‰å¯†é’¥
```

---

### ç®¡ç†å‘½ä»¤

#### `remove` - åˆ é™¤å¯†é’¥

```bash
sshm remove <æ ‡ç­¾> [-t <ç±»å‹>]

ç¤ºä¾‹:
  sshm remove old-key
  sshm remove default -t rsa
```

---

#### `rename` - é‡å‘½åæ ‡ç­¾

```bash
sshm rename <æ—§æ ‡ç­¾> <æ–°æ ‡ç­¾>

ç¤ºä¾‹:
  sshm rename old-name new-name
```

---

#### `tag` - ä¸ºé»˜è®¤å¯†é’¥æ·»åŠ æ ‡ç­¾

```bash
sshm tag <æ ‡ç­¾> [--switch]

ç¤ºä¾‹:
  sshm tag github           # ä»…æ·»åŠ æ ‡ç­¾
  sshm tag github --switch  # æ·»åŠ æ ‡ç­¾å¹¶åˆ‡æ¢
```

---

### å¤‡ä»½å‘½ä»¤

#### `back` - æ‰‹åŠ¨å¤‡ä»½

```bash
sshm back

# è‡ªåŠ¨åˆ›å»ºå¸¦æ—¶é—´æˆ³çš„å¤‡ä»½
# ~/.ssh/key_backups/keys_20260109_120000/
```

---

#### `backups` - æŸ¥çœ‹å¤‡ä»½åˆ—è¡¨

```bash
sshm backups

# æ˜¾ç¤ºæ‰€æœ‰å†å²å¤‡ä»½åŠæ–‡ä»¶æ•°é‡
```

---

### æ›´æ–°å‘½ä»¤

#### `update` - æ£€æŸ¥å’Œæ›´æ–°

```bash
sshm update              # æ£€æŸ¥å¹¶æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
sshm update --check      # ä»…æ£€æŸ¥æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬
sshm update --force      # å¼ºåˆ¶æ£€æŸ¥ï¼ˆå¿½ç•¥ç¼“å­˜ï¼‰
```

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… å¯åŠ¨æ—¶è‡ªåŠ¨æ£€æŸ¥æ›´æ–°ï¼ˆ24å°æ—¶ç¼“å­˜ï¼‰
- âœ… å‘ç°æ–°ç‰ˆæœ¬æ—¶æ™ºèƒ½æç¤º
- âœ… ä¸€é”®ä¸‹è½½æ›´æ–°ï¼ˆæ˜¾ç¤ºè¿›åº¦ï¼‰
- âœ… è‡ªåŠ¨æ›¿æ¢å¯æ‰§è¡Œæ–‡ä»¶
- âœ… å®Œæ•´çš„æ›´æ–°æ—¥å¿—æ˜¾ç¤º

è¯¦è§ï¼š[æ›´æ–°åŠŸèƒ½æ–‡æ¡£](UPDATE.md)

---

## ğŸ’¼ å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹ 1ï¼šä¸ªäºº + å…¬å¸åŒ GitHub è´¦å·

```bash
# 1ï¸âƒ£ åˆ›å»ºå¯†é’¥
sshm add personal me@gmail.com -H github.com
sshm add company me@work.com -H github.com

# 2ï¸âƒ£ å¤åˆ¶å…¬é’¥åˆ° GitHub
sshm list -a
# å°† personal.pub æ·»åŠ åˆ°ä¸ªäºº GitHub
# å°† company.pub æ·»åŠ åˆ°å…¬å¸ GitHub

# 3ï¸âƒ£ é…ç½®é¡¹ç›®ä½¿ç”¨å¯¹åº”å¯†é’¥
cd ~/personal-repos/my-blog
sshm use personal

cd ~/work-repos/project
sshm use company

# 4ï¸âƒ£ æ­£å¸¸ä½¿ç”¨ï¼ˆæ— éœ€åˆ‡æ¢ï¼‰
git push  # è‡ªåŠ¨ä½¿ç”¨å¯¹åº”å¯†é’¥
```

---

### æ¡ˆä¾‹ 2ï¼šå¤šå¹³å°ç®¡ç†

```bash
# åˆ›å»ºå„å¹³å°å¯†é’¥
sshm add github me@example.com -H github.com
sshm add gitlab me@example.com -H gitlab.com
sshm add gitee me@example.com -H gitee.com

# å¤åˆ¶å…¬é’¥åˆ°å„å¹³å°
sshm list -a

# å…‹éš†æ—¶ä½¿ç”¨åˆ«å
git clone git@github:user/repo.git
git clone git@gitlab:user/repo.git
git clone git@gitee:user/repo.git
```

---

### æ¡ˆä¾‹ 3ï¼šä¸´æ—¶ä½¿ç”¨å…¶ä»–è´¦å·

```bash
# æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„å¯†é’¥
sshm list

# ä¸´æ—¶åˆ‡æ¢åˆ°å…¶ä»–è´¦å·
sshm switch temp-account

# å®Œæˆæ“ä½œååˆ‡æ¢å›æ¥
sshm switch main-account
```

---

### æ¡ˆä¾‹ 4ï¼šä» HTTPS è¿ç§»åˆ° SSH

```bash
# ç°æœ‰ HTTPS é¡¹ç›®
cd ~/my-project
git remote -v
# origin  https://github.com/user/repo.git

# 1. åˆ›å»ºæˆ–é€‰æ‹©å¯†é’¥
sshm add github-personal me@gmail.com -H github.com

# 2. ä½¿ç”¨ use å‘½ä»¤è‡ªåŠ¨è½¬æ¢
sshm use github-personal

# 3. éªŒè¯
git remote -v
# origin  git@github-personal:user/repo.git

# 4. æ­£å¸¸æ¨é€
git push
```

---

## ğŸ”„ ä¸¤ç§ä½¿ç”¨æ–¹å¼

### æ–¹å¼ 1ï¼šä½¿ç”¨åˆ«åï¼ˆâœ… æ¨èï¼‰

**ä¼˜åŠ¿**ï¼šå¤šè´¦å·åŒæ—¶ä½¿ç”¨ï¼Œæ— éœ€åˆ‡æ¢

```bash
# ä¸ªäººé¡¹ç›®
cd ~/personal-project
sshm use github-personal
git push  # è‡ªåŠ¨ä½¿ç”¨ github-personal å¯†é’¥

# å…¬å¸é¡¹ç›®
cd ~/company-project
sshm use github-company
git push  # è‡ªåŠ¨ä½¿ç”¨ github-company å¯†é’¥
```

**åŸç†**ï¼š

é¡¹ç›®çš„ remote URL ä½¿ç”¨ SSH config åˆ«åï¼š
```bash
git@github-personal:user/repo.git  # ä½¿ç”¨ personal å¯†é’¥
git@github-company:org/repo.git    # ä½¿ç”¨ company å¯†é’¥
```

SSH config è‡ªåŠ¨é…ç½®ï¼š
```ssh-config
# github-personal - Auto-generated by SSH Manager
Host github-personal
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_rsa.github-personal
    IdentitiesOnly yes
```

---

### æ–¹å¼ 2ï¼šåˆ‡æ¢é»˜è®¤å¯†é’¥

**åœºæ™¯**ï¼šä½¿ç”¨æ ‡å‡†åŸŸå `git@github.com`

```bash
# åˆ‡æ¢åˆ°ä¸ªäººè´¦å·
sshm switch github-personal
cd ~/personal-project
git push  # ä½¿ç”¨ github-personal å¯†é’¥

# åˆ‡æ¢åˆ°å…¬å¸è´¦å·
sshm switch github-company
cd ~/company-project
git push  # ä½¿ç”¨ github-company å¯†é’¥
```

**å¯¹æ¯”**ï¼š

| ç‰¹æ€§ | æ–¹å¼ 1ï¼ˆåˆ«åï¼‰ | æ–¹å¼ 2ï¼ˆåˆ‡æ¢ï¼‰ |
|------|----------------|----------------|
| å¤šè´¦å·åŒæ—¶ä½¿ç”¨ | âœ… æ”¯æŒ | âŒ éœ€è¦é¢‘ç¹åˆ‡æ¢ |
| é…ç½®å¤æ‚åº¦ | ğŸŸ¢ ç®€å•ï¼ˆä¸€æ¬¡é…ç½®ï¼‰ | ğŸŸ¡ ä¸­ç­‰ï¼ˆæ¯æ¬¡åˆ‡æ¢ï¼‰ |
| å‡ºé”™é£é™© | ğŸŸ¢ ä½ï¼ˆé¡¹ç›®ç»‘å®šå¯†é’¥ï¼‰ | ğŸ”´ é«˜ï¼ˆå¿˜è®°åˆ‡æ¢æ¨é”™è´¦å·ï¼‰ |
| å›¢é˜Ÿåä½œ | âœ… å‹å¥½ï¼ˆæ¯äººç‹¬ç«‹é…ç½®ï¼‰ | âš ï¸ ä¸é€‚åˆ |
| æ¨èç¨‹åº¦ | â­â­â­â­â­ | â­â­â­ |

---

## ğŸ¨ GUI äº¤äº’æ¨¡å¼

åŒå‡» `sshm_gui.bat`ï¼ˆWindowsï¼‰å¯åŠ¨å›¾å½¢åŒ–èœå•ï¼š

```
========================================
   SSH Key Manager - äº¤äº’å¼èœå•
========================================

1. æŸ¥çœ‹æ‰€æœ‰å¯†é’¥ (list)
2. åˆ›å»ºæ–°å¯†é’¥ (add)
3. åˆ‡æ¢é»˜è®¤å¯†é’¥ (switch)
4. åˆ é™¤å¯†é’¥ (remove)
5. å¤‡ä»½æ‰€æœ‰å¯†é’¥ (back)
6. æŸ¥çœ‹å¤‡ä»½åˆ—è¡¨ (backups)
7. ç»™é»˜è®¤å¯†é’¥æ·»åŠ æ ‡ç­¾ (tag)
8. é‡å‘½åæ ‡ç­¾ (rename)
9. æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ (env)
0. é€€å‡º

æç¤º: åœ¨ä»»ä½•è¾“å…¥æ—¶å¯è¾“å…¥ q æˆ–ç›´æ¥å›è½¦è¿”å›ä¸»èœå•
========================================
```

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š

- ğŸ–±ï¸ **é¼ æ ‡å‹å¥½**ï¼šåŒå‡»å¯åŠ¨ï¼Œæ— éœ€å‘½ä»¤è¡Œ
- ğŸ¨ **å½©è‰²ç•Œé¢**ï¼šæ¸…æ™°çš„è§†è§‰æç¤º
- âŒ¨ï¸ **å¿«æ·æ“ä½œ**ï¼šæ•°å­—é”®å¿«é€Ÿé€‰æ‹©
- ğŸ”™ **éšæ—¶é€€å‡º**ï¼šè¾“å…¥ q æˆ–å›è½¦è¿”å›
- ğŸ“‹ **å®Œæ•´åŠŸèƒ½**ï¼šæ¶µç›–æ‰€æœ‰å¸¸ç”¨æ“ä½œ

---

## ğŸ”’ å®‰å…¨æ€§

### å®‰å…¨ç‰¹æ€§

- âœ… **è‡ªåŠ¨å¤‡ä»½**ï¼šä»»ä½•ä¿®æ”¹å‰è‡ªåŠ¨å¤‡ä»½åˆ°å¸¦æ—¶é—´æˆ³çš„ç›®å½•
- âœ… **åŸå§‹ä¿æŠ¤**ï¼šé¦–æ¬¡åˆ‡æ¢æ—¶ä¿å­˜åŸå§‹å¯†é’¥ä¸º `default_backup`
- âœ… **äºŒæ¬¡ç¡®è®¤**ï¼šåˆ é™¤ã€è¦†ç›–æ“ä½œéœ€è¦ç”¨æˆ·ç¡®è®¤
- âœ… **æƒé™è®¾ç½®**ï¼šè‡ªåŠ¨è®¾ç½®å¯†é’¥æ–‡ä»¶æƒé™ï¼ˆ600ï¼‰
- âœ… **çŠ¶æ€è¿½è¸ª**ï¼šå§‹ç»ˆçŸ¥é“å½“å‰ä½¿ç”¨çš„å¯†é’¥
- âœ… **å†å²è®°å½•**ï¼šä¿ç•™æ‰€æœ‰å¤‡ä»½ï¼Œå¯éšæ—¶å›æº¯

### å¤‡ä»½æœºåˆ¶

```
~/.ssh/key_backups/
â”œâ”€â”€ keys_20260109_120000/    # æ—¶é—´æˆ³å¤‡ä»½
â”‚   â”œâ”€â”€ id_rsa
â”‚   â”œâ”€â”€ id_rsa.pub
â”‚   â”œâ”€â”€ id_rsa.github-personal
â”‚   â””â”€â”€ id_rsa.github-personal.pub
â”œâ”€â”€ keys_20260108_150000/
â””â”€â”€ keys_20260107_100000/
```

### æœ€ä½³å®è·µ

1. **é¦–æ¬¡ä½¿ç”¨å‰å¤‡ä»½**
   ```bash
   sshm back
   ```

2. **å®šæœŸå¤‡ä»½**
   ```bash
   # æ¯æœˆå¤‡ä»½ä¸€æ¬¡
   sshm back
   ```

3. **ä¿®æ”¹ remote å‰ç¡®è®¤**
   ```bash
   git remote -v  # å…ˆæŸ¥çœ‹å½“å‰é…ç½®
   ```

4. **æµ‹è¯•æ–°é…ç½®**
   ```bash
   ssh -T git@<åˆ«å>  # æµ‹è¯•è¿æ¥
   ```

5. **å¤‡ä»½åˆ°äº‘å­˜å‚¨**ï¼ˆå¯é€‰ï¼‰
   - å°† `~/.ssh/key_backups/` é“¾æ¥åˆ° OneDrive/Dropbox
   - è¯¦è§ [FAQ - å¤‡ä»½åˆ°äº‘å­˜å‚¨](FAQ.md#q-å¦‚ä½•å¤‡ä»½åˆ°äº‘å­˜å‚¨)

---

## ğŸŒŸ ä¼˜åŠ¿å¯¹æ¯”

### vs ä¼ ç»Ÿæ–¹æ¡ˆ

| åŠŸèƒ½ | ä¼ ç»Ÿæ–¹æ¡ˆ | SSH Key Manager |
|------|----------|-----------------|
| å¤šè´¦å·ç®¡ç† | âŒ éœ€è¦æ‰‹åŠ¨å¤‡ä»½/æ›¿æ¢æ–‡ä»¶ | âœ… æ ‡ç­¾åŒ–ï¼Œä¸€ç›®äº†ç„¶ |
| SSH Config | âŒ æ‰‹åŠ¨ç¼–è¾‘ï¼Œæ˜“å‡ºé”™ | âœ… è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤ |
| åˆ‡æ¢å¯†é’¥ | âŒ å¤æ‚ï¼Œå®¹æ˜“å¿˜è®°å¤‡ä»½ | âœ… ä¸€é”®åˆ‡æ¢ï¼Œè‡ªåŠ¨å¤‡ä»½ |
| å®‰å…¨æ€§ | âš ï¸ å®¹æ˜“è¯¯åˆ æˆ–è¦†ç›– | âœ… å¤šé‡ä¿æŠ¤ï¼Œæ°¸ä¸ä¸¢å¤± |
| å­¦ä¹ æˆæœ¬ | ğŸ˜° éœ€è¦äº†è§£ SSH åŸç† | ğŸ˜Š å¼€ç®±å³ç”¨ |
| è¿½æº¯æ€§ | âŒ ä¸çŸ¥é“ç”¨çš„å“ªä¸ªå¯†é’¥ | âœ… å®æ—¶çŠ¶æ€æ˜¾ç¤º |
| æ‰¹é‡æ“ä½œ | âŒ é€ä¸ªæ‰‹åŠ¨å¤„ç† | âœ… äº¤äº’å¼ GUI |

### vs å…¶ä»–å·¥å…·

| ç‰¹æ€§ | SSH Key Manager | ssh-agent | keychain |
|------|-----------------|-----------|----------|
| æ ‡ç­¾ç®¡ç† | âœ… | âŒ | âŒ |
| è‡ªåŠ¨é…ç½® | âœ… | âŒ | âŒ |
| è‡ªåŠ¨å¤‡ä»½ | âœ… | âŒ | âŒ |
| GUI ç•Œé¢ | âœ… | âŒ | âŒ |
| è·¨å¹³å° | âœ… | âš ï¸ éƒ¨åˆ† | âš ï¸ éƒ¨åˆ† |
| æ— ä¾èµ– | âœ… | âœ… | âŒ |
| å­¦ä¹ æ›²çº¿ | ğŸŸ¢ ä½ | ğŸŸ¡ ä¸­ | ğŸ”´ é«˜ |

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [INSTALL.md](INSTALL.md) - è¯¦ç»†å®‰è£…æŒ‡å—
- [FAQ.md](FAQ.md) - å¸¸è§é—®é¢˜è§£ç­”
- [UPDATE.md](UPDATE.md) - æ›´æ–°åŠŸèƒ½æ–‡æ¡£
- [DEVELOPER.md](DEVELOPER.md) - å¼€å‘è€…æ–‡æ¡£
- [CHANGELOG.md](CHANGELOG.md) - ç‰ˆæœ¬æ›´æ–°æ—¥å¿—

---

<div align="center">

**è¿”å› [README.md](../README.md)**

</div>
